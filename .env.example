# =============================================================================
# Pixology.ai Backend Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
HOST=localhost

# Base URL for the API server (used for OAuth callbacks)
API_BASE_URL=http://localhost:3001

# Frontend URL (for CORS and redirects)
CLIENT_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Google OAuth 2.0 Configuration
# -----------------------------------------------------------------------------
# Obtain these from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# OAuth callback URL (must match the one configured in Google Console)
GOOGLE_CALLBACK_URL=http://localhost:3001/auth/google/callback

# -----------------------------------------------------------------------------
# Session Configuration
# -----------------------------------------------------------------------------
# Generate a strong random string for session encryption
# You can use: openssl rand -base64 32
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# Session cookie settings
SESSION_MAX_AGE=86400000
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=lax

# -----------------------------------------------------------------------------
# Google Cloud Platform Configuration
# -----------------------------------------------------------------------------
# GCP Project ID
GCP_PROJECT_ID=your-gcp-project-id

# Path to your GCP service account key JSON file
# Download from: https://console.cloud.google.com/iam-admin/serviceaccounts
GOOGLE_APPLICATION_CREDENTIALS=./config/gcp-service-account-key.json

# -----------------------------------------------------------------------------
# Google Cloud Firestore (Database)
# -----------------------------------------------------------------------------
# Firestore collection names
FIRESTORE_USERS_COLLECTION=users
FIRESTORE_IMAGES_COLLECTION=images

# -----------------------------------------------------------------------------
# Google Cloud Storage (GCS/Blobstore)
# -----------------------------------------------------------------------------
# GCS bucket name for storing generated images
GCS_BUCKET_NAME=pixology-generated-images

# GCS bucket location (e.g., us-central1, europe-west1)
GCS_BUCKET_LOCATION=us-central1

# Public URL base for accessing stored images
# Format: https://storage.googleapis.com/{bucket-name}/
GCS_PUBLIC_URL_BASE=https://storage.googleapis.com/pixology-generated-images/

# -----------------------------------------------------------------------------
# Google Gemini API Configuration
# -----------------------------------------------------------------------------
# API key for Google Generative AI (Gemini)
# Obtain from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# Model to use for image generation ("nano banana API" internally)
GEMINI_IMAGE_MODEL=gemini-2.5-flash-image-preview

# Gemini API timeout in milliseconds
GEMINI_API_TIMEOUT=30000

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Max requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# Time window in minutes
RATE_LIMIT_WINDOW_MINUTES=15

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log directory
LOG_DIR=logs

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------------------
# Image Generation Settings
# -----------------------------------------------------------------------------
# Maximum image generation requests per user per day
MAX_IMAGES_PER_USER_PER_DAY=50

# Default image generation parameters
DEFAULT_IMAGE_WIDTH=1024
DEFAULT_IMAGE_HEIGHT=1024
DEFAULT_IMAGE_QUALITY=standard
